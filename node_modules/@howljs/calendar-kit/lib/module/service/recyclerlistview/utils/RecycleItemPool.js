/**
 * Recycle pool for maintaining recyclable items Availability check, add/remove
 * etc are all O(1), uses two maps to achieve constant time operation
 */

export default class RecycleItemPool {
  constructor() {
    this._recyclableObjectSet = new Set();
    this._availabilitySet = new Set();
  }
  putRecycledObject(object) {
    if (!this._availabilitySet.has(object)) {
      this._recyclableObjectSet.add(object);
      this._availabilitySet.add(object);
    }
  }
  getRecycledObject() {
    const recycledObject = this._recyclableObjectSet.values().next().value;
    if (recycledObject) {
      this._recyclableObjectSet.delete(recycledObject);
      this._availabilitySet.delete(recycledObject);
    }
    return recycledObject;
  }
  removeFromPool(object) {
    if (this._availabilitySet.has(object)) {
      this._recyclableObjectSet.delete(object);
      this._availabilitySet.delete(object);
      return true;
    }
    return false;
  }
  clearAll() {
    this._recyclableObjectSet.clear();
    this._availabilitySet.clear();
  }
}
//# sourceMappingURL=RecycleItemPool.js.map