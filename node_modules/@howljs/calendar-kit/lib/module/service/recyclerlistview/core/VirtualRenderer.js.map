{"version":3,"names":["RecycleItemPool","isNullOrUndefined","valueWithDefault","ViewabilityTracker","VirtualRenderer","_layoutManager","_viewabilityTracker","constructor","renderStackChanged","scrollOnNextUpdate","_renderStack","_stableIdToRenderKeyMap","_engagedIndexes","_renderStackChanged","_scrollOnNextUpdate","_dimensions","_params","_isViewTrackerRunning","_markDirty","_startKey","onVisibleItemsChanged","onVisibleColumnChanged","getLayoutDimension","getContentDimension","height","width","updateOffset","offsetX","isActual","offset","setActualOffset","startViewabilityTracker","attachVisibleItemsListener","callback","removeVisibleItemsListener","onVisibleRowsChanged","attachVisibleColumnsListener","removeVisibleColumnsListener","getLayoutManager","setParamsAndDimensions","params","dim","setLayoutManager","layoutManager","relayout","itemCount","getViewabilityTracker","refreshWithOffset","_prepareViewabilityTracker","x","y","forceRefreshWithOffset","refresh","forceRefresh","getInitialOffset","initialOffset","init","_recyclePool","renderAheadOffset","columnsPerPage","extraScrollData","syncAndGetKey","index","renderStack","stableIdItem","key","undefined","_this$_recyclePool","getRecycledObject","itemMeta","oldIndex","dataIndex","_getCollisionAvoidingKey","_this$_recyclePool2","removeFromPool","stackItem","console","warn","onEngagedRowsChanged","_onEngagedItemsChanged","_onVisibleItemsChanged","_onVisibleColumnChanged","setLayout","getLayout","setDimensions","Error","all","now","notNow","props","_all","count","length","resolvedKey","disengagedIndex","i","_this$_recyclePool3","putRecycledObject","_updateRenderStack","itemIndexes","hasRenderStackChanged"],"sourceRoot":"../../../../../src","sources":["service/recyclerlistview/core/VirtualRenderer.ts"],"mappings":"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","ignoreList":[]}