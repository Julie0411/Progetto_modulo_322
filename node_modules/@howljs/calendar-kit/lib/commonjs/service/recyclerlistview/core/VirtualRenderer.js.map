{"version":3,"names":["_RecycleItemPool","_interopRequireDefault","require","_utils","_ViewabilityTracker","e","__esModule","default","VirtualRenderer","_layoutManager","_viewabilityTracker","constructor","renderStackChanged","scrollOnNextUpdate","_renderStack","_stableIdToRenderKeyMap","_engagedIndexes","_renderStackChanged","_scrollOnNextUpdate","_dimensions","_params","_isViewTrackerRunning","_markDirty","_startKey","onVisibleItemsChanged","onVisibleColumnChanged","getLayoutDimension","getContentDimension","height","width","updateOffset","offsetX","isActual","offset","setActualOffset","startViewabilityTracker","attachVisibleItemsListener","callback","removeVisibleItemsListener","onVisibleRowsChanged","attachVisibleColumnsListener","removeVisibleColumnsListener","getLayoutManager","setParamsAndDimensions","params","dim","setLayoutManager","layoutManager","relayout","itemCount","getViewabilityTracker","refreshWithOffset","_prepareViewabilityTracker","x","y","forceRefreshWithOffset","refresh","forceRefresh","getInitialOffset","valueWithDefault","initialOffset","init","_recyclePool","RecycleItemPool","ViewabilityTracker","renderAheadOffset","columnsPerPage","extraScrollData","syncAndGetKey","index","renderStack","stableIdItem","key","undefined","isNullOrUndefined","_this$_recyclePool","getRecycledObject","itemMeta","oldIndex","dataIndex","_getCollisionAvoidingKey","_this$_recyclePool2","removeFromPool","stackItem","console","warn","onEngagedRowsChanged","_onEngagedItemsChanged","_onVisibleItemsChanged","_onVisibleColumnChanged","setLayout","getLayout","setDimensions","Error","all","now","notNow","props","_all","count","length","resolvedKey","disengagedIndex","i","_this$_recyclePool3","putRecycledObject","_updateRenderStack","itemIndexes","hasRenderStackChanged","exports"],"sourceRoot":"../../../../../src","sources":["service/recyclerlistview/core/VirtualRenderer.ts"],"mappings":"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","ignoreList":[]}